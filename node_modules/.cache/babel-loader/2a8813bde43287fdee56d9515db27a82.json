{"ast":null,"code":"import _toConsumableArray from\"C:/Users/DD/Desktop/react-todo-list/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/DD/Desktop/react-todo-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import TodoList from\"./TodoList\";import{v4 as uuidv4}from\"uuid\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoRef=useRef();// const LOCAL_STORAGE_KEY = \"tasks\";\n//Adding a new task\nfunction addTodo(e){var name=todoRef.current.value;if(name===\"\")return;setTodos(function(prevtodos){return[].concat(_toConsumableArray(prevtodos),[{id:uuidv4(),name:name,completed:false}]);});todoRef.current.value=null;}//Initializing the tasks from local storage\nuseEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(\"Tasks\"));// console.log(\"ls is-> \", storedTodos);\nif(storedTodos){console.log(\"Setting prev values-> \",storedTodos);setTodos(storedTodos);}},[]);//putting the items into local storage\nuseEffect(function(){localStorage.setItem(\"Tasks\",JSON.stringify(todos));},[todos]);//toggle tasks\nfunction toggleTodos(id){var newTodos=_toConsumableArray(todos);var todo=newTodos.find(function(todo){return todo.id===id;});todo.completed=!todo.completed;setTodos(newTodos);}//clear completed tasks\nfunction handleClear(){var newTodos=todos.filter(function(todo){return!todo.completed;});setTodos(newTodos);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"TodoList\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"todoContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftTodos\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"You have \",todos.filter(function(todo){return!todo.completed;}).length,\" tasks left to do\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsx(\"input\",{ref:todoRef,type:\"text\",placeholder:\"Enter your tasks here\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:addTodo,children:\"Add new task\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClear,style:{marginTop:0},children:\"Clear Completed Tasks\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"listTodos\",children:/*#__PURE__*/_jsx(TodoList,{todoList:todos,toggleTodos:toggleTodos})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","TodoList","v4","uuidv4","App","todos","setTodos","todoRef","addTodo","e","name","current","value","prevtodos","id","completed","storedTodos","JSON","parse","localStorage","getItem","console","log","setItem","stringify","toggleTodos","newTodos","todo","find","handleClear","filter","length","marginTop"],"sources":["C:/Users/DD/Desktop/react-todo-list/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport TodoList from \"./TodoList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./App.css\";\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const todoRef = useRef();\n  // const LOCAL_STORAGE_KEY = \"tasks\";\n\n  //Adding a new task\n  function addTodo(e) {\n    const name = todoRef.current.value;\n    if (name === \"\") return;\n    setTodos((prevtodos) => {\n      return [...prevtodos, { id: uuidv4(), name: name, completed: false }];\n    });\n    todoRef.current.value = null;\n  }\n\n  //Initializing the tasks from local storage\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(\"Tasks\"));\n    // console.log(\"ls is-> \", storedTodos);\n    if (storedTodos) {\n      console.log(\"Setting prev values-> \", storedTodos);\n      setTodos(storedTodos);\n    }\n  }, []);\n\n  //putting the items into local storage\n  useEffect(() => {\n    localStorage.setItem(\"Tasks\", JSON.stringify(todos));\n  }, [todos]);\n\n  //toggle tasks\n  function toggleTodos(id) {\n    const newTodos = [...todos];\n    const todo = newTodos.find((todo) => todo.id === id);\n    todo.completed = !todo.completed;\n    setTodos(newTodos);\n  }\n  //clear completed tasks\n  function handleClear() {\n    const newTodos = todos.filter((todo) => !todo.completed);\n    setTodos(newTodos);\n  }\n  return (\n    <>\n      <div className=\"heading\">\n        <h1>TodoList</h1>\n      </div>\n      <div className=\"todoContainer\">\n        <div className=\"leftTodos\">\n          <p>\n            You have {todos.filter((todo) => !todo.completed).length} tasks left\n            to do\n          </p>\n        </div>\n\n        <div className=\"inputContainer\">\n          <input\n            ref={todoRef}\n            type=\"text\"\n            placeholder=\"Enter your tasks here\"\n          />\n          <br />\n          <button onClick={addTodo}>Add new task</button>\n          <br />\n          <button onClick={handleClear} style={{ marginTop: 0 }}>\n            Clear Completed Tasks\n          </button>\n        </div>\n\n        <div className=\"listTodos\">\n          <TodoList todoList={todos} toggleTodos={toggleTodos} />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"0PAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAOC,SAAP,KAAqB,YAArB,CACA,OAASC,EAAE,GAAIC,OAAf,KAA6B,MAA7B,CACA,MAAO,WAAP,C,6IAEA,QAASC,IAAT,EAAe,CACb,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,GAAMC,QAAO,CAAGR,MAAM,EAAtB,CACA;AAEA;AACA,QAASS,QAAT,CAAiBC,CAAjB,CAAoB,CAClB,GAAMC,KAAI,CAAGH,OAAO,CAACI,OAAR,CAAgBC,KAA7B,CACA,GAAIF,IAAI,GAAK,EAAb,CAAiB,OACjBJ,QAAQ,CAAC,SAACO,SAAD,CAAe,CACtB,mCAAWA,SAAX,GAAsB,CAAEC,EAAE,CAAEX,MAAM,EAAZ,CAAgBO,IAAI,CAAEA,IAAtB,CAA4BK,SAAS,CAAE,KAAvC,CAAtB,GACD,CAFO,CAAR,CAGAR,OAAO,CAACI,OAAR,CAAgBC,KAAhB,CAAwB,IAAxB,CACD,CAED;AACAZ,SAAS,CAAC,UAAM,CACd,GAAMgB,YAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAApB,CACA;AACA,GAAIJ,WAAJ,CAAiB,CACfK,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCN,WAAtC,EACAV,QAAQ,CAACU,WAAD,CAAR,CACD,CACF,CAPQ,CAON,EAPM,CAAT,CASA;AACAhB,SAAS,CAAC,UAAM,CACdmB,YAAY,CAACI,OAAb,CAAqB,OAArB,CAA8BN,IAAI,CAACO,SAAL,CAAenB,KAAf,CAA9B,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA;AACA,QAASoB,YAAT,CAAqBX,EAArB,CAAyB,CACvB,GAAMY,SAAQ,oBAAOrB,KAAP,CAAd,CACA,GAAMsB,KAAI,CAAGD,QAAQ,CAACE,IAAT,CAAc,SAACD,IAAD,QAAUA,KAAI,CAACb,EAAL,GAAYA,EAAtB,EAAd,CAAb,CACAa,IAAI,CAACZ,SAAL,CAAiB,CAACY,IAAI,CAACZ,SAAvB,CACAT,QAAQ,CAACoB,QAAD,CAAR,CACD,CACD;AACA,QAASG,YAAT,EAAuB,CACrB,GAAMH,SAAQ,CAAGrB,KAAK,CAACyB,MAAN,CAAa,SAACH,IAAD,QAAU,CAACA,IAAI,CAACZ,SAAhB,EAAb,CAAjB,CACAT,QAAQ,CAACoB,QAAD,CAAR,CACD,CACD,mBACE,wCACE,YAAK,SAAS,CAAC,SAAf,uBACE,gCADF,EADF,cAIE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,WAAf,uBACE,iCACYrB,KAAK,CAACyB,MAAN,CAAa,SAACH,IAAD,QAAU,CAACA,IAAI,CAACZ,SAAhB,EAAb,EAAwCgB,MADpD,uBADF,EADF,cAQE,aAAK,SAAS,CAAC,gBAAf,wBACE,cACE,GAAG,CAAExB,OADP,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,uBAHd,EADF,cAME,aANF,cAOE,eAAQ,OAAO,CAAEC,OAAjB,0BAPF,cAQE,aARF,cASE,eAAQ,OAAO,CAAEqB,WAAjB,CAA8B,KAAK,CAAE,CAAEG,SAAS,CAAE,CAAb,CAArC,mCATF,GARF,cAsBE,YAAK,SAAS,CAAC,WAAf,uBACE,KAAC,QAAD,EAAU,QAAQ,CAAE3B,KAApB,CAA2B,WAAW,CAAEoB,WAAxC,EADF,EAtBF,GAJF,GADF,CAiCD,CAED,cAAerB,IAAf"},"metadata":{},"sourceType":"module"}